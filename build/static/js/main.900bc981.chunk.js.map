{"version":3,"sources":["components/common/Preloader/Preloader.module.css","components/common/Preloader/Preloader.js","img/heart.js","components/common/alert/alert.js","components/photo/photo.js","api/api.js","components/photo/photoContainer.js","store/photos/actions.js","store/auth/actions.js","img/out.js","components/header/header.js","components/header/headerConteiner.js","components/profile/profile.js","components/profile/profileContainer.js","components/photos/Card/Card.jsx","context/photos/photosReducer.js","components/photos/photos.js","components/photos/photosContainerHook.js","App.js","serviceWorker.js","store/auth/redusers.js","store/photos/redusers.js","store/reducers.js","index.js"],"names":["module","exports","Preloader","className","styles","lds_ellipsis","Heart","width","height","fill","id","enableBackground","viewBox","xmlns","d","Alert","Photo","image","photoId","likedClick","unlikeClick","err","src","urls","regular","alt","alt_desckription","user","name","onClick","liked_by_user","likes","unsplash","Unsplash","accessKey","secret","callbackUrl","bearerToken","Cookies","get","authenticationUrl","auth","getAuthenticationUrl","getAuthMi","currentUser","profile","then","toJson","response","getPhoto","photos","json","getLiked","likePhoto","getUnLiked","unlikePhoto","PhotoContainer","setErrActive","props","setErr","isAuth","setLiked","photo","setTimeout","this","data","setImage","prevProps","prevState","snapshot","React","Component","connect","state","token","dispatch","page","type","payload","like","Out","Header","profileMi","clickMenuAvatar","classNames","getAuthentication","setLogout","to","profile_image","small","first_name","HeaderContainer","setActiveMenuAvatar","activeMenuAvatar","code","window","location","search","split","logout","set","expires","assign","setProfileMi","setIsAuth","userAuthentication","res","setBearerToken","access_token","enterAuthorization","active","Profile","large","email","Card","alt_description","PhotosContext","createContext","initialState","images","per_page","photosHooksReducers","action","Photos","useContext","map","key","PhotosContainerHook","useReducer","useState","onscroll","setOnscroll","handleScroll","scrollBottom","document","documentElement","getBoundingClientRect","bottom","clientHeight","useEffect","listPhotos","getPhotos","addEventListener","removeEventListener","Provider","value","App","exact","path","component","render","match","params","ProfileContainer","Boolean","hostname","loading","photosReducers","combineReducers","store","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.900bc981.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"lds_ellipsis\":\"Preloader_lds_ellipsis__3XaBd\",\"lds_ellipsis1\":\"Preloader_lds_ellipsis1__1UdGx\",\"lds_ellipsis2\":\"Preloader_lds_ellipsis2__20xGS\",\"lds_ellipsis3\":\"Preloader_lds_ellipsis3__1fY-o\"};","import React from \"react\";\r\nimport styles from \"./Preloader.module.css\"\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={styles.lds_ellipsis}>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader","import React from \"react\";\r\n\r\nconst Heart = ({width, height, fill}) => {\r\n    return (\r\n        <svg\r\n            id=\"Capa_1\"\r\n            enableBackground=\"new 0 0 391.837 391.837;\"\r\n            height={height}\r\n            viewBox=\"0 0 391.837 391.837\"\r\n            width={width}\r\n            fill={fill}\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <g>\r\n                <g>\r\n                    <path d=\"M285.257,35.528c58.743,0.286,106.294,47.836,106.58,106.58\r\n\t\tc0,107.624-195.918,214.204-195.918,214.204S0,248.165,0,142.108c0-58.862,47.717-106.58,106.58-106.58l0,0\r\n\t\tc36.032-0.281,69.718,17.842,89.339,48.065C215.674,53.517,249.273,35.441,285.257,35.528z\"/>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default Heart","import React from 'react';\r\nimport './alert.css';\r\n\r\n\r\nconst Alert = () => {\r\n    return (\r\n        <div className='alert'>\r\n            Вы не авторизированы!\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Alert","import React from \"react\";\r\nimport './Photo.css'\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Heart from \"../../img/heart\";\r\nimport Alert from \"../common/alert/alert\";\r\n\r\nconst Photo = ({image, photoId, likedClick, unlikeClick, err}) => {\r\n\r\n    if (!image || photoId !== image.id) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <>\r\n            {err && <Alert />}\r\n            <div className='photo'>\r\n                <img src={image.urls.regular} alt={image.alt_desckription}/>\r\n                <div className='photo__content'>\r\n                    <h3 className='photo__name'>{image.user.name}</h3>\r\n                    <div onClick={!image.liked_by_user ? likedClick : unlikeClick} className='photo__like'>\r\n                        <Heart width={20} height={18} fill={image.liked_by_user ? '#e75a5a' : 'gainsboro'}/>\r\n                        <span>{image.likes}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Photo\r\n\r\n","import Unsplash, {toJson} from \"unsplash-js\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nexport const unsplash = new Unsplash({\r\n    accessKey: \"CCmUYdJ0XloimmGTAqnof5xFLlD27kNQiDo5pNEnVQ4\",\r\n    secret: \"aXJI2FFI1YJW0DDPXoxyJJ2YFgG_ni0zAbMGw1kSwO4\",\r\n    callbackUrl: \"http://localhost:3000\",\r\n    bearerToken: Cookies.get('access_token') !== \"undefined\" ? Cookies.get('access_token') : '',\r\n});\r\n\r\n\r\nexport const authenticationUrl = unsplash.auth.getAuthenticationUrl([\r\n    \"public\", \"read_user\", \"write_user\", \"read_photos\", \"write_photos\",\r\n    \"write_likes\", \"write_followers\", \"read_collections\", \"write_collections\"\r\n]);\r\n\r\n\r\nexport const getAuthMi = () => {\r\n    return unsplash.currentUser.profile()\r\n        .then(toJson)\r\n        .then(response => response);\r\n}\r\n\r\n\r\nexport const getPhotos = (page = 1, per_page = 10) => {\r\n    return unsplash.photos.listPhotos(page, per_page, \"latest\")\r\n        .then(toJson)\r\n        .then(json => json);\r\n}\r\n\r\n\r\nexport const getPhoto = (photoId) => {\r\n    return unsplash.photos.getPhoto(photoId)\r\n        .then(toJson)\r\n        .then(json => json);\r\n}\r\n\r\n\r\nexport const getLiked = (photoId) => {\r\n    return unsplash.photos.likePhoto(photoId)\r\n        .then(toJson)\r\n        .then(json => json);\r\n}\r\n\r\nexport const getUnLiked = (photoId) => {\r\n    return unsplash.photos.unlikePhoto(photoId)\r\n        .then(toJson)\r\n        .then(json => json);\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {setImage, setLiked} from \"../../store/photos/actions\";\r\nimport Photo from \"./photo\";\r\nimport {getLiked, getPhoto, getUnLiked} from \"../../api/api\";\r\nimport {setErr} from \"../../store/auth/actions\";\r\n\r\n\r\nclass PhotoContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        getPhoto(this.props.photoId)\r\n            .then((data) => {\r\n                this.props.setImage(data)\r\n            })\r\n\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.image) {\r\n            if (this.props.image.likes !== prevProps.image.likes)\r\n                getPhoto(this.props.photoId)\r\n                    .then((data) => {\r\n                        this.props.setImage(data)\r\n                    })\r\n        }\r\n    }\r\n\r\n    setErrActive = (err) => {\r\n        this.props.setErr(err);\r\n    }\r\n\r\n    likedClick = () => {\r\n        if (!this.props.isAuth) {\r\n            this.setErrActive(true)\r\n            setTimeout(this.setErrActive, 3000)\r\n        } else {\r\n            getLiked(this.props.photoId).then((response) => {\r\n                this.props.setLiked(response.photo.likes)\r\n            });\r\n        }\r\n    }\r\n\r\n    unlikeClick = () => {\r\n        if (!this.props.isAuth) {\r\n            this.setErrActive(true)\r\n            setTimeout(this.setErrActive, 3000)\r\n        } else {\r\n            getUnLiked(this.props.photoId).then((response) => {\r\n                this.props.setLiked(response.photo.likes)\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Photo\r\n                    err={this.props.err}\r\n                    isAuth={this.props.isAuth}\r\n                    image={this.props.image}\r\n                    photoId={this.props.photoId}\r\n                    likedClick={this.likedClick}\r\n                    unlikeClick={this.unlikeClick}\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    image: state.photos.image,\r\n    token: state.auth.token,\r\n    isAuth: state.auth.isAuth,\r\n    err: state.auth.err,\r\n});\r\n\r\nlet mapDispatchToProps = (dispatch) => ({\r\n    setImage: (image) => dispatch(setImage(image)),\r\n    setLiked: (like) => dispatch(setLiked(like)),\r\n    setErr: (err) => dispatch(setErr(err)),\r\n\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PhotoContainer)","export const SET_IMAGES = 'SET_IMAGES';\r\nexport const SET_ADDED_IMAGES = 'SET_ADDED_IMAGES';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const SET_IMAGE = 'SET_IMAGE';\r\nexport const SET_UPDATE_IMAGE = 'SET_UPDATE_IMAGE';\r\nexport const SET_LIKED = 'SET_LIKED';\r\nexport const SET_PAGE = 'SET_PAGE';\r\n\r\n\r\n\r\nexport const setImages = images => ({\r\n    type: SET_IMAGES,\r\n    payload: images\r\n})\r\n\r\nexport const setAddedImages = images => ({\r\n    type: SET_ADDED_IMAGES,\r\n    payload: images\r\n})\r\n\r\nexport const setLoading = loading => ({\r\n    type: SET_LOADING,\r\n    payload: loading\r\n})\r\n\r\nexport const setPage = page => ({\r\n    type: SET_PAGE,\r\n    payload: page\r\n})\r\n\r\nexport const setImage = (image, page) => ({\r\n    type: SET_IMAGE,\r\n    payload: image, page\r\n})\r\n\r\nexport const setUpdateImage = (likes) => ({\r\n    type: SET_UPDATE_IMAGE,\r\n    payload: {likes}\r\n})\r\n\r\nexport const setLiked = likes => ({\r\n    type: SET_LIKED,\r\n    payload: likes\r\n})\r\n\r\n\r\n\r\n","export const SET_PROFILE_MI = 'SET_PROFILE_MI';\r\nexport const SET_IS_AUTH = 'SET_IS_AUTH';\r\nexport const SET_ERR = 'SET_ERR';\r\nexport const SET_LOGOUT = 'SET_LOGOUT';\r\nexport const SET_ACTIVE_MENU_AVATAR = 'SET_ACTIVE_MENU_AVATAR';\r\n\r\n\r\nexport const setProfileMi = profileMi => ({\r\n    type: SET_PROFILE_MI,\r\n    payload: profileMi\r\n})\r\n\r\nexport const setIsAuth = isAuth => ({\r\n    type: SET_IS_AUTH,\r\n    payload: isAuth\r\n})\r\n\r\nexport const setErr = err => ({\r\n    type: SET_ERR,\r\n    payload: err\r\n})\r\n\r\nexport const setLogout = () => ({\r\n    type: SET_LOGOUT,\r\n})\r\n\r\nexport const setActiveMenuAvatar = (active) => ({\r\n    type: SET_ACTIVE_MENU_AVATAR,\r\n    payload: active\r\n})","import React from \"react\";\r\n\r\nconst Out = ({width, height, fill}) => {\r\n    return (\r\n        <svg\r\n            id=\"Capa_1\"\r\n            enableBackground=\"new 0 0 490.3 490.3;\"\r\n            height={height}\r\n            viewBox=\"0 0 490.3 490.3\"\r\n            width={width}\r\n            fill={fill}\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <g>\r\n                <g>\r\n                    <path d=\"M0,121.05v248.2c0,34.2,27.9,62.1,62.1,62.1h200.6c34.2,0,62.1-27.9,62.1-62.1v-40.2c0-6.8-5.5-12.3-12.3-12.3\r\n\t\t\ts-12.3,5.5-12.3,12.3v40.2c0,20.7-16.9,37.6-37.6,37.6H62.1c-20.7,0-37.6-16.9-37.6-37.6v-248.2c0-20.7,16.9-37.6,37.6-37.6h200.6\r\n\t\t\tc20.7,0,37.6,16.9,37.6,37.6v40.2c0,6.8,5.5,12.3,12.3,12.3s12.3-5.5,12.3-12.3v-40.2c0-34.2-27.9-62.1-62.1-62.1H62.1\r\n\t\t\tC27.9,58.95,0,86.75,0,121.05z\"/>\r\n                    <path d=\"M385.4,337.65c2.4,2.4,5.5,3.6,8.7,3.6s6.3-1.2,8.7-3.6l83.9-83.9c4.8-4.8,4.8-12.5,0-17.3l-83.9-83.9\r\n\t\t\tc-4.8-4.8-12.5-4.8-17.3,0s-4.8,12.5,0,17.3l63,63H218.6c-6.8,0-12.3,5.5-12.3,12.3c0,6.8,5.5,12.3,12.3,12.3h229.8l-63,63\r\n\t\t\tC380.6,325.15,380.6,332.95,385.4,337.65z\"/>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default Out","import React from \"react\";\r\nimport './header.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport Out from \"../../img/out\";\r\n\r\nconst Header = ({profileMi, clickMenuAvatar, classNames, getAuthentication, setLogout}) => {\r\n\r\n    return (\r\n        <header className='header'>\r\n            <div className='menu'>\r\n                <Link to='/'>Home</Link>\r\n                { profileMi && <Link to='/profile'>Профиль</Link> }\r\n            </div>\r\n\r\n            <div className='header_avatar'>\r\n                {\r\n                    profileMi\r\n                        ? <>\r\n                            <img onClick={clickMenuAvatar} src={profileMi.profile_image.small} alt={profileMi.name}/>\r\n                            <div className={classNames}>\r\n                                <div className='avatar__menu_profile'>\r\n                                    <img src={profileMi.profile_image.small} alt={profileMi.name}/>\r\n                                    <div>{profileMi.first_name}</div>\r\n                                </div>\r\n\r\n                                <div className='avatar__menu'>\r\n                                    <Link onClick={clickMenuAvatar} to='/'>Home</Link>\r\n                                    <Link onClick={clickMenuAvatar} to='/profile'>Профиль</Link>\r\n                                </div>\r\n                                <button onClick={setLogout} className='button__logout'>Выйти{<Out width={20} height={20}/>}</button>\r\n                            </div>\r\n                        </>\r\n                        : <button onClick={getAuthentication} className='button__login'>Вход</button>\r\n                }\r\n            </div>\r\n\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\nimport './header.css';\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {setActiveMenuAvatar, setIsAuth, setLogout, setProfileMi} from \"../../store/auth/actions\";\r\nimport {authenticationUrl, getAuthMi, unsplash} from \"../../api/api\";\r\nimport Cookies from 'js-cookie'\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    clickMenuAvatar = () => {\r\n        this.props.setActiveMenuAvatar(!this.props.activeMenuAvatar)\r\n    }\r\n\r\n    enterAuthorization() {\r\n        window.location.assign(authenticationUrl);\r\n    }\r\n\r\n    code = window.location.search.split('code=')[1]\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        const token = Cookies.get('access_token');\r\n\r\n        if (token) {\r\n            getAuthMi()\r\n                .then(response => {\r\n                    this.props.setProfileMi(response);\r\n                    this.props.setIsAuth(true);\r\n                });\r\n\r\n        } else if (this.code) {\r\n            unsplash.auth.userAuthentication(this.code)\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    unsplash.auth.setBearerToken(json.access_token);\r\n                    Cookies.set('access_token', json.access_token, {expires: 3600})\r\n\r\n                    getAuthMi()\r\n                        .then(response => {\r\n                            this.props.setProfileMi(response)\r\n                            this.props.setIsAuth(true)\r\n                        });\r\n                });\r\n        }\r\n    }\r\n\r\n    logout = () => {\r\n        Cookies.set('access_token', '', {expires: -1});\r\n        this.props.setLogout();\r\n    }\r\n\r\n\r\n    render() {\r\n        let classNames = 'logout';\r\n        if (this.props.activeMenuAvatar) {\r\n            classNames += ' active'\r\n        }\r\n\r\n        return (\r\n            <Header\r\n                clickMenuAvatar={this.clickMenuAvatar}\r\n                classNames={classNames}\r\n                getAuthentication={this.enterAuthorization}\r\n                profileMi={this.props.profileMi}\r\n                setLogout={this.logout}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    profileMi: state.auth.profileMi,\r\n    activeMenuAvatar: state.auth.activeMenuAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    setProfileMi: profileMi => dispatch(setProfileMi(profileMi)),\r\n    setIsAuth: isAuth => dispatch(setIsAuth(isAuth)),\r\n    setLogout: () => dispatch(setLogout()),\r\n    setActiveMenuAvatar: (active) => dispatch(setActiveMenuAvatar(active)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer)\r\n","import React from \"react\";\r\n\r\nconst Profile = ({profileMi}) => {\r\n\r\n    return (\r\n        <div className='profile'>\r\n            <div className='profile_image'>\r\n                <img src={profileMi.profile_image.large} alt={profileMi.name}/>\r\n                <div className=\"profile_data\">\r\n                    <h1>{profileMi.name}</h1>\r\n                    <div>{profileMi.email}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"profile_photos\">\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport Profile from \"./profile\";\r\nimport {Redirect} from \"react-router\";\r\n\r\n\r\nconst ProfileContainer = ({profileMi}) => {\r\n\r\n    if (!profileMi) {\r\n        return <Redirect to='/'/>\r\n    }\r\n\r\n    return (\r\n        <Profile profileMi={profileMi}/>\r\n    );\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profileMi: state.auth.profileMi,\r\n});\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(ProfileContainer)","import React from \"react\";\r\nimport \"./Card.css\"\r\nimport Heart from \"../../../img/heart\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Card = (props) => {\r\n    return (\r\n        <li className='card'>\r\n            <Link to={`/image/${props.image.id}`}>\r\n                <img src={props.image.urls.small} alt={props.image.alt_description}/>\r\n            </Link>\r\n            <div className='card__content'>\r\n\r\n                <h3 className='card__name'>{props.image.user.name}</h3>\r\n\r\n                <div className='card__like'>\r\n                    <Heart width={16} height={14} fill={props.image.liked_by_user ? '#e75a5a' : 'white'}/>\r\n                    <span>{props.image.likes}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card\r\n","import {createContext} from \"react\";\r\n\r\nexport const PhotosContext = createContext();\r\nexport const initialState = {\r\n    images: [],\r\n    page: 1,\r\n    per_page: 10,\r\n}\r\n\r\n\r\nexport const photosHooksReducers = (state, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'SET_IMAGES':\r\n            return {\r\n                ...state,\r\n                images: [...state.images, ...action.payload],\r\n            };\r\n\r\n        case 'SET_PAGE':\r\n            return {\r\n                ...state,\r\n                page: state.page + action.payload\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import React, {useContext} from \"react\";\r\nimport './photos.css';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Card from \"./Card/Card\";\r\nimport {PhotosContext} from \"../../context/photos/photosReducer\";\r\n\r\n\r\nconst Photos = () => {\r\n\r\n    const {state} = useContext(PhotosContext);\r\n\r\n    if (!state.images) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className='photos__wrapper'>\r\n            <ul className='photos'>\r\n                {\r\n                    state.images.map((image) => {\r\n                        return (\r\n                            <Card key={image.id} image={image}/>\r\n                        );\r\n                    })\r\n                }\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Photos\r\n","import React, {useEffect, useReducer, useState} from \"react\";\r\nimport Photos from \"./photos\";\r\nimport {getPhotos} from \"../../api/api\";\r\nimport {initialState, PhotosContext, photosHooksReducers} from \"../../context/photos/photosReducer\";\r\n\r\n\r\nconst PhotosContainerHook = () => {\r\n\r\n    const [state, dispatch] = useReducer(photosHooksReducers, initialState);\r\n    const [onscroll, setOnscroll] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        getPhotos(state.page, state.per_page)\r\n            .then(data => {\r\n                    dispatch({payload: data, type: 'SET_IMAGES'});\r\n            });\r\n\r\n    }, [state.page, state.per_page]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll);\r\n\r\n        return () => {\r\n            window.removeEventListener('scroll', handleScroll)\r\n        };\r\n    });\r\n\r\n\r\n    function handleScroll() {\r\n        const scrollBottom = document.documentElement.getBoundingClientRect().bottom;\r\n        const clientHeight = document.documentElement.clientHeight;\r\n\r\n        if (scrollBottom - clientHeight < 500) {\r\n            setOnscroll(true)\r\n        }\r\n\r\n        if (scrollBottom - clientHeight >= 500) {\r\n            setOnscroll(false)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (onscroll) {\r\n            dispatch({payload: 1, type: 'SET_PAGE'})\r\n        }\r\n    }, [onscroll]);\r\n\r\n\r\n    return (\r\n        <PhotosContext.Provider value={{dispatch, state}}>\r\n            <Photos />\r\n        </PhotosContext.Provider>\r\n    );\r\n}\r\n\r\nexport default PhotosContainerHook","import React from \"react\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\n// import PhotosContainer from \"./components/photos/photosContainer\";\r\nimport PhotoContainer from \"./components/photo/photoContainer\";\r\nimport './App.css';\r\nimport HeaderContainer from \"./components/header/headerConteiner\";\r\nimport ProfileContainer from \"./components/profile/profileContainer\";\r\nimport PhotosContainerHook from \"./components/photos/photosContainerHook\";\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className='container'>\r\n            <HeaderContainer/>\r\n            <main className='main'>\r\n                <Switch>\r\n                    <Route exact path='/' component={PhotosContainerHook}/>\r\n                    <Route exact path='/image/:id'\r\n                           render={({match}) => {\r\n                               return <PhotoContainer photoId={match.params.id}/>\r\n                           }}/>\r\n                    <Route exact path='/profile' component={ProfileContainer}/>\r\n                    <Redirect to='/'/>\r\n                </Switch>\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n    isAuth: false,\r\n    profileMi: null,\r\n    err: false,\r\n    activeMenuAvatar: false,\r\n}\r\n\r\nexport const authReducers = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case 'SET_TOKEN':\r\n            return {\r\n                ...state,\r\n                token: action.payload\r\n            }\r\n\r\n        case 'SET_PROFILE_MI':\r\n            return {\r\n                ...state,\r\n                profileMi: action.payload\r\n            }\r\n\r\n        case 'SET_IS_AUTH':\r\n            return {\r\n                ...state,\r\n                isAuth: action.payload\r\n            }\r\n\r\n        case 'SET_ERR':\r\n            return {\r\n                ...state,\r\n                err: action.payload\r\n            }\r\n\r\n        case 'SET_LOGOUT':\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                profileMi: null,\r\n            }\r\n\r\n        case 'SET_ACTIVE_MENU_AVATAR':\r\n            return {\r\n                ...state,\r\n                activeMenuAvatar: action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","\r\nconst initialState = {\r\n    image: null,\r\n    // images: [],\r\n    // page: 1,\r\n    // per_page: 10,\r\n    like: false,\r\n    loading: false,\r\n}\r\n\r\nconst photosReducers = (state = initialState, action) => {\r\n    /*const stateCopy = {...state};*/\r\n\r\n    switch (action.type) {\r\n\r\n/*        case 'SET_IMAGES':\r\n            return {\r\n                ...state, images: action.payload, loading: true\r\n            };*/\r\n\r\n/*        case 'SET_ADDED_IMAGES':\r\n            stateCopy.images = [...state.images, ...action.payload];\r\n            stateCopy.loading = true;\r\n            return stateCopy;*/\r\n\r\n/*        case 'SET_LOADING':\r\n            return {\r\n                ...state, loading: action.payload,\r\n            }*/\r\n\r\n/*        case 'SET_PAGE':\r\n            return {\r\n                ...state, page: action.payload,\r\n            }*/\r\n\r\n        case 'SET_IMAGE':\r\n            return {...state, image: action.payload}\r\n\r\n        case 'SET_UPDATE_IMAGE':\r\n            return {...state, image: {...state.image, liked_by_user: action.payload.liked_by_user}};\r\n\r\n        case 'SET_LIKED':\r\n            return {...state, image: {...state.image, likes: action.payload}};\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport default photosReducers","import {combineReducers} from \"redux\";\r\nimport {authReducers} from \"./auth/redusers\";\r\nimport photosReducers from \"./photos/redusers\";\r\n\r\nexport default combineReducers({\r\n    photos: photosReducers,\r\n    auth: authReducers,\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from \"react-redux\";\r\nimport reducers from \"./store/reducers\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport {createStore} from \"redux\";\r\n\r\n\r\n\r\n\r\nconst store = createStore( reducers, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() )\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <BrowserRouter>\r\n          <Provider store={store}>\r\n              <App />\r\n          </Provider>\r\n      </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nwindow.store = store\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}